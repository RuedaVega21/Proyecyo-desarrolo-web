<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Generación</title>
    <link rel="stylesheet" href="./css/master.css">
    <link rel="shortcut icon" href="./Imagenes/favicon-32x32.png" type="image/x-icon">
    <link rel="stylesheet" href="./css/estilo_formulario.css">
</head>

<body>

    <main>
        <nav class="nav container">
            <ul class="nav__link nav__link--menu">
                <a href="verempleado.html" class="nav__links">Volver</a>
            </ul>
        </nav>

        <form action="" class="formulario" id="formulario">

            <div class="formulario__grupo" id="grupo__usuario">
                <label for="usuario" class="formulario__label">Usuario</label>
                <div class="formulario__grupo-input">
                    <input type="text" class="formulario__input" name="usuario" id="usuario" placeholder="Sebas_213">
                    <i class="formulario__validacion-estado fas fa-times-circle"></i>
                </div>
                <p class="formulario__input-error">El usuario tiene que ser de 4 a 16 dígitos y solo puede contener
                    numeros, letras y guion bajo.</p>
            </div>

            <div class="formulario__grupo" id="grupo__correo">
                <label for="correo" class="formulario__label">Correo Electrónico</label>
                <div class="formulario__grupo-input">
                    <input type="email" class="formulario__input" name="correo" id="correo"
                        placeholder="correo@correo.com">
                    <i class="formulario__validacion-estado fas fa-times-circle"></i>
                </div>
                <p class="formulario__input-error">El correo solo puede contener letras, numeros, puntos, guiones y
                    guion bajo.</p>
            </div>

            <div class='field'>
                <label class="">Id del empleado:  </label>
                <select name="select" id="select" class="">
                    <option value="id">Id empleado</option>
                </select>
            </div>

            <div class="formulario__grupo" id="grupo__terminos">
                <label class="formulario__label">
                    <input class="formulario__checkbox" type="checkbox" name="terminos" id="terminos">
                    Acepto los Terminos y Condiciones
                </label>
            </div>

            <div class="formulario__mensaje" id="formulario__mensaje">
                <p><i class="fas fa-exclamation-triangle"></i> <b>Error:</b> Por favor rellena el formulario
                    correctamente. </p>
            </div>

            <div class="formulario__grupo formulario__grupo-btn-enviar">
                <button type="submit" class="formulario__btn">Enviar</button>
                <p class="formulario__mensaje-exito" id="formulario__mensaje-exito">Formulario enviado exitosamente!</p>
            </div>
        </form>
    </main>

    <script src="js/logicainicio.js"></script>
    <script src="https://kit.fontawesome.com/2c36e9b7b1.js" crossorigin="anonymous"></script>
</body>

</html>

<script>
    var url = "http://127.0.0.1:5000/api/empleado/ver/";
        fetch(url).then(function(result){
            if(result.ok){
                return result.json();
            }

        }).then(function(data){
            data.data.forEach(function(element){
                let select = document.getElementById("select");
                let opt = document.createElement("option");
                opt.appendChild(document.createTextNode(element.nombre_primero + " " + element.nombre_segundo));
                opt.value=String(element._id.$oid);
                select.appendChild(opt);
            })
        })  
</script>